<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css"
          type="text/css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"
          rel="stylesheet"/>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/kotlin.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
      

body {
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
  font-size:90%;
  color: black;
}

p {
  margin: 0.5em;
}

pre code {
  font-family: "Monaco";
  font-size: 100%;
}

img {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  margin:10px;
}

h1, h2, h3 {
  border-bottom:thin solid black;
  margin-bottom: 0.5em;
  margin-top: 1em;
}

h1 {
  font-style:italic;
  font-size:130%;
}

h2 {
  font-size:110%;
}

h3 {
  font-size:100%;
}



      

html, body {
  height: 100%;
  margin: 0;
}
.wrapper {
  height: 100%;
  display: flex;
  flex-direction: column;
}
.footer {
  background: white;
  text-align: right;
}
.content {
  flex: 1;
  overflow: auto;
}



    </style>
  </head>

  
  

  <div class="ui fixed top pointing inverted stackable menu labmenu">
    <header class="header item">
      <i id="toc" class="sitemap icon"></i>
      
        <a href="../index.html">  06: Game of Pong  </a>
      
    </header>
    <div class="right tab-menu menu">
      
        <a class="item" data-tab="Lab-06c">
          Lab-06c
        </a>
      
        <a class="item" data-tab="V6">
          V6
        </a>
      
        <a class="item" data-tab="V7">
          V7
        </a>
      
        <a class="item" data-tab="V8">
          V8
        </a>
      
    </div>
  </div>


  

  <div class="ui pushable">
    <div class="ui inverted labeled icon left inline vertical sidebar menu">
      <br><br>
      
        
          
            <a class="item"
               href="/topic-00-induction/book-induction/index.html">Induction </a>
          
        
      
    </div>
    <div class="pusher" tabindex="-1">
      <div class="ui basic segment">
        <br>
        
          <div class="ui tab segment lab" data-tab="Lab-06c">
            <h1>Objectives</h1>
<p>PongGame V6.0 · PongGame V7.0 · PongGameV8.0</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="V6">
            <h1>Game of Pong - V6.0</h1>
<p>On completion of this lab you will have introduced an array of Players and build simple data analysis algorithms based on the stored data.  In this lab, you will work on PongGameV6.0, PongGame7.0 and PongGameV8.0.</p>
<p>In Version 6 of the game, we introduce a new Player class. For this version, the Player class will have limited functionality. </p>
<p>Open your latest version of PongGame version 5. If you want, you can use this solution <a href="archives/PongGameV5_0.zip">here</a>. </p>
<p>Save this as PongGameV6.0. Now, make the changes listed below. </p>
<h2>Player class description</h2>
<p>We will create a <em>Player</em> who plays a game.  This class will store details about the player:</p>
<ul>
<li><p>the player&#39;s name </p>
</li>
<li><p>the number of games they wish to play for the current tournament</p>
</li>
<li><p>a collection (array) of the scores of each of the games in the current tournament</p>
</li>
<li><p>the number of scores added (games played) at this time.</p>
</li>
</ul>
<p>We need to have getters and setters for these fields.</p>
<p>We need a method that adds a value to the scores array. </p>
<p>We also have a toString() method that returns a String version of the object. This is useful when we want to print details of a player object.</p>
<h2>Developing the Player class</h2>
<p>Create a new tab called <em>Player</em> and add the following code in your sketch (don&#39;t cut and paste it, type it in):</p>
<pre><code class="lang-java">public class Player
{
  private String playerName;
  private int[] scores;
  //no accessor and mutator is created for the count field as it is an internal field that 
  //has a dual purpose:
  //   1. represents the next available index in the array 
  //   2. represents the number of high scores added to the array
  private int count;

  //Constructor to create a player with a starting name and sets the size of the array
  //to the number of games in the tournament, as entered by the player.
  public Player(String playerName, int numberOfGames)
  {
     this.playerName = playerName.trim().substring(0,6);
     scores = new int[numberOfGames];
     count = 0;
  }
   //accessors
  public String getPlayerName()
  {
    return playerName;
  }

  public int[] getscores()
  {
    return scores;
  }

  //mutator for player name
  public void setPlayerName(String playerName)
  {
     this.playerName = playerName.substring(0,6);  
  }

  //mutator for high score array
  public void setscores(int[] scores)
  {
     this.scores = scores;
  }

  //method to add a score at the next available location in the scores array   
  public void addScore(int score)
  {
      if (score &gt;= 0){
         scores[count] = score;
         count++;
      }
  } 

  //method builds a nice String representation of the player name and their high scores.
  //This string is then returned
  public String toString()
  {
     String str = &quot;Scores for &quot; + playerName + &quot;\n&quot;;

     for(int i = 0; i &lt; count; i++){
        str = str + &quot;     Score &quot; + (i+1) + &quot;: &quot; + scores[i] + &quot;\n&quot;; 
     }   
     return str;  
  }

}</code></pre>
<p>Ensure that you understand the code you have written in. For example:</p>
<ul>
<li><p>What validation rule is imposed on the player&#39;s name?</p>
</li>
<li><p>How does the toString() work? Why do we need a loop?</p>
</li>
<li><p>What is the purpose of the count data field in the addScore() method and overall?</p>
</li>
</ul>
<h2>Changes in the PongGame class</h2>
<p>Firstly, we need to declare a Player in the class (just under the declaration of the Ball and Paddle objects:</p>
<pre><code class="lang-java">Player player;</code></pre>
<p>Then we need to add in the following line of code to the setup method to construct the player. </p>
<pre><code class="lang-java">void setup()
{
  :
  :
   //create a player object 
   player = new Player(&quot;  PongMaster  &quot;, maxNumberOfGames);
}</code></pre>
<p>The effect of these two pieces of code is that a Player object, called player setup and ready to be used and to play. </p>
<p>So, when do we add the scores to the scores array? We do this when we have lost all our lives, thus finished the game. So look for the part of the code in the draw() method that deals with when the player has no more lives left in the current game. To do this, you need to add the following line of code:</p>
<pre><code class="lang-java">player.addScore(score);</code></pre>
<p>so that the full part of if..else statement is </p>
<pre><code> //If the player has no lives left in the current game
   else{
      player.addScore(score);   //add the score of the current game to the array in player
      numberOfGamesPlayed++;        
      //If the player has more games left in the tournament, 
      //display their score and ask them if they want to continue with the tournament.
      if (numberOfGamesPlayed &lt; maxNumberOfGames){
         resetGame();
      }</code></pre>
<p>Now that we have information stored about the player and their scores for the games, we will use this information at the end of the tournament. Specifically, we will print out the player&#39;s details using the toString() method using the following code, so change the tournamentOver() code to:</p>
<pre><code>//method displays the player information, high scores and statistics, before exiting the program.
void tournamentOver()
{
   println(&quot;Game Over!\n&quot;);
   println(player.getPlayerName() + &quot;, your tournament is over!\n&quot;
                                  + &quot;Number of games played: &quot; + numberOfGamesPlayed
                                  + &quot;\n\n&quot;                     + player.toString());
   exit();          
}</code></pre>
<p>You should be able to now play the game and get the information reported at the end of the tournament. The information will be sent to the console. Later we will redirect this information to the dialog boxes via JOptionPane. </p>
<p>Save your work.</p>
<p>Make sure you understand the code before moving onto PongGameV7_0.</p>
<h2>Solution</h2>
<p>If your code is not working, the solution can be found <a href="archives/PongGameV6_0.zip">here</a>. </p>

          </div>
        
          <div class="ui tab segment lab" data-tab="V7">
            <h1>Game of Pong - V7.0</h1>
<p>In this version of the game, we add methods that calculate the highest and lowest score in the player&#39;s score array as well as calculating the average score over all the scores.</p>
<p>Open your latest version of PongGame Version 7. If you are not confident that it is working, you can use this solution <a href="archives/PongGameV7_0.zip">here</a>. </p>
<p>Save this as PongGameV8_0. Now, make changes to this work. </p>
<h2>Player Class</h2>
<p>We will now add three methods to the Player class:</p>
<ul>
<li><p>lowestScore()</p>
</li>
<li><p>highestScore()</p>
</li>
<li><p>averageScore()</p>
</li>
</ul>
<pre><code class="lang-java">  //method returns the highest score stored in the scores array   
  //if there is only one element in the scores array, this value is 
  //returned as the highest
  public int highestScore()
  {
     int highestScore = scores[0];
     for(int i = 1; i &lt; count; i++){
         if (scores[i] &gt; highestScore){
            highestScore = scores[i];
         }        
     }   
     return highestScore;
  }

  //method returns the lowest score stored in the scores array   
  //if there is only one element in the scores array, this value 
  //is returned as the lowest
  public int lowestScore()
  {
     int lowestScore = scores[0] ;
     for(int i = 1; i &lt; count; i++){
         if (scores[i] &lt; lowestScore){
            lowestScore = scores[i];
         }        
     }   
     return lowestScore;
  }

  //method calculates and returns the average of all the high 
  //scores stored in the scores array   
  public int averageScore()
  {
     int total = 0;
     for(int i = 0; i &lt; count; i++){
        total = total +  scores[i];        
     }   
     return total / count;
  }</code></pre>
<p>Ensure that you understand the code you have written in. For example:</p>
<ul>
<li><p>What is the function of the variable highestScore in the highestScore() method?</p>
</li>
<li><p>Why is the variable highestScore local? </p>
</li>
<li><p>Is this appropriate?    </p>
</li>
</ul>
<h2>Changes in the PongGame class</h2>
<p>We don&#39;t make any changes to how the game works in this version update. We only give out more information about what happened during the game. </p>
<p>So we simply change the tournamentOver() method to report on the three new values that our new methods calculate. So our updated tournamentOver() method will now be:</p>
<pre><code class="lang-java">//method displays the player information, high scores and 
//statistics, before exiting the program.
void tournamentOver()
{
   println(&quot;Game Over!\n&quot;);
   println(player.getPlayerName() + &quot;, your tournament is over!\n&quot;
                                  + &quot;Number of games played: &quot; + numberOfGamesPlayed
                                  + &quot;\n\n&quot;                     + player.toString()
                                  + &quot;\n\nHighest Score: &quot;      + player.highestScore()
                                  +   &quot;\nLowest Score:  &quot;      + player.lowestScore()
                                  +   &quot;\nAverage Score: &quot;      + player.averageScore());
   exit();          
}</code></pre>
<p>You should be able to now play the game and get the extra information reported at the end of the tournament. The information will be sent to the console. Next we will redirect this information to the dialog boxes via JOptionPane. </p>
<p>Save your work.</p>
<p>Make sure you understand the code before moving onto PongGameV8_0.</p>
<h2>Solution</h2>
<p>If your code is not working, the solution can be found <a href="archives/PongGameV7_0.zip">here</a>.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="V8">
            <h1>Game of Pong - V8.0</h1>
<p>In this version of the game, we add the JOptionPane methods that allow us to read data in from the keyboard and to send data out via dialog boxes. </p>
<p>Because we can now use user input, we use this in two places:</p>
<ul>
<li><p>setting up the player (name, number of games)</p>
</li>
<li><p>we give the user the option to quit the game after every game is finished.</p>
</li>
</ul>
<p>Open your latest version of PongGame version 7. If you wish, you can use this solution <a href="archives/PongGameV7_0.zip">here</a>. </p>
<p>Save this as PongGameV8_0. Now, make changes to this work. </p>
<h2>PongGame class - changes</h2>
<p>Firstly note that we will only use the main tab (in this case PongGameV8_0) to read in data or report data. PongGameV8_0 then decides how data comes in/goes out (e.g. console or JOptionPane).  Taking this approach, Ball and Paddle should never &#39;talk to the user&#39;. </p>
<p>So, the only changes in this version update is in the PongGame class.</p>
<p>In the main tab, we firstly import the swing package as the first line of code.</p>
<pre><code class="lang-java">import javax.swing.*;</code></pre>
<h2>Changes in setup() method</h2>
<p>Change the setup method so that it is:    </p>
<pre><code class="lang-java">void setup()
{
   size(600,600);
   noCursor();

   //setting up the paddle and the ball with hard-coded sizes.
   //This could be updated so that the values are read from the user at the start of the tournament.
   paddle = new Paddle(20,100);
   ball = new Ball(20.0);

   //create a player object with the data entered by the user 
   maxNumberOfGames = Integer.parseInt(JOptionPane.showInputDialog(&quot;Welcome to the Pong Tournament\n\n Please enter the number of games you would like to play: &quot;,&quot;3&quot;));
   player = new Player(JOptionPane.showInputDialog(&quot;Enter the player name (max 6 chars: &quot;), maxNumberOfGames);
}</code></pre>
<p>Ensure that you understand the code you have written in. For example:</p>
<ul>
<li><p>The first use of the showInputDialog method returns a string which is then converted to an integer using Integer.parseInt</p>
</li>
<li><p>The second use of showInputDialog calls the method and uses the value returned directly in the Player constructor. So if &quot;Siobhan&quot; were entered in the dialog box, this would be the same as using </p>
</li>
</ul>
<pre><code class="lang-java">player = new Player(&quot;Siobhan&quot;, maxNumberOfGames);</code></pre>
<p>Now run this code: You will get the following dialog boxes: </p>
<p><img src="./img/01.png" alt="Entering number of games"></p>
<p>Then you will get the following:</p>
<p><img src="./img/02.png" alt="Entering player name"></p>
<h2>Changes in the draw() class - game functionality</h2>
<p>We will add extra functionality to the game...when a player has finished a game s/he is asked do they wish to continue (only if there are still games left):</p>
<p>Amend your code so that it is:</p>
<pre><code class="lang-java">  //If the player has no lives left in the current game
   else{
      player.addScore(score);
      numberOfGamesPlayed++;        
      //If the player has more games left in the tournament, 
      //display their score and ask them if they want to continue with the tournament.
      if (numberOfGamesPlayed &lt; maxNumberOfGames){
         int reply = JOptionPane.showConfirmDialog(null,
            &quot;Game Over! You scored &quot; + score + &quot;.\nWould you like to play the next game in your tournament?&quot;,
            &quot;Play next game?&quot;,
            JOptionPane.YES_NO_OPTION);
         if (reply == JOptionPane.YES_OPTION){
            //player chooses to play the next game in their tournament.
            resetGame();
         }
         else{
            //player chooses to leave the tournament early.
            tournamentOver();
         }
      }
      else{
         //the player has no more games left in the tournament 
         tournamentOver();
      }
   }</code></pre>
<p>Ensure that you understand the code.</p>
<p>Now play a tournament. When you finish any game you are given the option to quit the tournament:</p>
<p><img src="./img/03.png" alt="Do you wish to continue? option"></p>
<h2>Changes to the tournamentOver() method - reporting results</h2>
<p>Currently, we output to the console.  We are going to change this so that our output is via a dialog box.</p>
<p>Change the tournamentOver() method code to be:</p>
<pre><code class="lang-java">//method displays the player information, high scores and statistics, before exiting the program.
void tournamentOver()
{
   JOptionPane.showMessageDialog(null, player.getPlayerName() + &quot;, your tournament is over! \n\n&quot;  
                                 + &quot;Number of games played: &quot; + numberOfGamesPlayed
                                 + &quot;\n\n&quot;                     + player.toString()
                                 + &quot;\n\nHighest Score: &quot;      + player.highestScore()
                                 +   &quot;\nLowest Score:  &quot;      + player.lowestScore()
                                 +   &quot;\nAverage Score: &quot;      + player.averageScore());
   exit();            
}</code></pre>
<p>Note that you are not changing any of the data being displayed, just their method of display.</p>
<p>Now when you play the tournament, you should get results in the format below:</p>
<p><img src="./img/04.png" alt="Results of a tournament"></p>
<p>Save your work.</p>
<p>Make sure you understand the code before moving onto PongGameV9_0.</p>
<h2>Solution</h2>
<p>If your code is not working, the solution can be found <a href="archives/PongGameV8_0.zip">here</a>. </p>

          </div>
        
      </div>
    </div>
  </div>



  <script>
    $(document).on('keydown', function(e) {
  e = e || window.event;
  var nextTab;
  switch (e.which || e.keyCode) {
    case 37: // left
      nextTab = $('.tab-menu a[data-tab].active').prev('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').last();
      nextTab.click();
      $('.pusher').focus();
      break;

    case 39: // right
      nextTab = $('.tab-menu a[data-tab].active').next('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').first();
      nextTab.click();
      $('.pusher').focus();
      break;
  }
});

    $(document).ready(function() {
  $('img').addClass('ui image');

  $('.ui.embed').embed();

  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass(
        'ui basic segment',
      );
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass(
        'ui blue ribbon label',
      );
      divLabel.append($images[i].alt);
      $(divLabel).insertBefore($images[i]);
    }
  });

  $('.ui.menu .item').tab({
    history: true,
    historyType: 'hash',
  });

  $('.popup').popup();

  $('.ui.sidebar')
    .sidebar({ context: $('.pushable') })
    .sidebar('setting', 'transition', 'slide out')
    .sidebar('attach events', '#toc');
});

  </script>



  <div class="ui bottom fixed borderless right menu">
    <div class="ui right small menu">
      <div class="ui tiny basic message segment">
         Powered by <a href="https://github.com/edeleastar/tutors-ts">tutors-ts.</a> 
      </div>
    </div>
  </div>

  </body>

</html>